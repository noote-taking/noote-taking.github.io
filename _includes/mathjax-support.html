<script type="text/x-mathjax-config">
    MathJax.Hub.Config({
        TeX: {
          equationNumbers: {
            autoNumber: "all"
          },
          tagSide: "right",
          tagIndent: ".8em"
        },
        showProcessingMessages: false,
        messageStyle: "none",
        skipStartupTypeset: false,
        "fast-preview": {
          disabled: true
        },
        tex2jax: {
        inlineMath: [ ['$', '$'] ],
        displayMath: [ ['$$', '$$'] ],
        processEscapes: true,
        skipTags: ['noscript', 'style', 'textarea', 'pre', 'code']
      }
    });
    // MathJax가 완전히 준비된 후 수식 처리
    MathJax.Hub.Register.StartupHook("End", function () {
      console.log("MathJax StartupHook End - processing math");
      MathJax.Hub.Queue(["Typeset", MathJax.Hub]);
    });
    </script>
<script type="text/javascript" async src="https://cdn.jsdelivr.net/npm/mathjax@2.7.7/MathJax.js?config=TeX-MML-AM_CHTML"></script>
<style>
/* 수식 블록 스타일링 */
.MathJax_Display {
    margin: 1em 0;
    display: block !important;
}
</style>
<script type="text/javascript">
  // MathJax가 수식을 처리한 후에만 script 태그 숨기기
  (function() {
    function hideMathScripts() {
      var mathScripts = document.querySelectorAll('script[type="math/tex"], script[type="math/tex; mode=display"]');
      mathScripts.forEach(function(script) {
        script.style.display = 'none';
      });
    }
    
    // MathJax가 처리한 후 숨기기
    if (typeof MathJax !== 'undefined' && MathJax.Hub) {
      MathJax.Hub.Register.StartupHook("End", function() {
        setTimeout(hideMathScripts, 100);
      });
    } else {
      window.addEventListener("load", function() {
        setTimeout(function() {
          if (typeof MathJax !== 'undefined' && MathJax.Hub) {
            MathJax.Hub.Register.StartupHook("End", function() {
              setTimeout(hideMathScripts, 100);
            });
          }
        }, 1000);
      });
    }
  })();
</script>

